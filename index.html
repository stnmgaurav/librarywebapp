<!DOCTYPE html>
<html>
<head>
  <title>Library QR Attendance</title>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- Firebase v8 (Important: script.js isi format me hai) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

  <!-- QR Scanner -->
  <script src="https://unpkg.com/html5-qrcode"></script>
</head>

<body>

  <h2 style="text-align:center;">Library Attendance System</h2>

  <!-- ================= LOGIN SECTION ================= -->
  <div id="loginSection" class="card">
      <button class="google-btn" onclick="loginWithGoogle()">
          Login with Google
      </button>
  </div>


  <!-- ================= ADMIN PANEL ================= -->
  <div id="adminPanel" style="display:none;">

      <div class="card stats-card">
          <h3 id="totalPresent">Total Present Today: 0</h3>
      </div>

      <div class="card">
          <h3>Students List</h3>

          <table width="100%" border="1" cellpadding="8">
              <thead>
                  <tr>
                      <th>Name</th>
                      <th>Mobile</th>
                      <th>Fee Status</th>
                      <th>Action</th>
                  </tr>
              </thead>
              <tbody id="studentListBody"></tbody>
          </table>
      </div>

      <div class="card">
          <button class="logout-btn" onclick="logout()">Logout</button>
      </div>

  </div>


  <!-- ================= STUDENT PANEL ================= -->
  <div id="studentPanel" style="display:none;">

      <div class="card">
          <h3 id="feeDisplay"></h3>
      </div>

      <div class="card">
          <h3>Scan QR Code</h3>
          <div id="reader"></div>
      </div>

      <div class="card stats-card">
          <h3 id="todayHours">Today: -</h3>
      </div>

      <div class="card">
          <h3>Last 10 Days History</h3>

          <table width="100%" border="1" cellpadding="8">
              <thead>
                  <tr>
                      <th>Date</th>
                      <th>Check In</th>
                      <th>Check Out</th>
                      <th>Hours</th>
                  </tr>
              </thead>
              <tbody id="historyBody"></tbody>
          </table>
      </div>

      <div class="card">
          <button class="logout-btn" onclick="logout()">Logout</button>
      </div>

  </div>


  <!-- Main Script -->
  <script src="script.js"></script>

</body>
</html>
